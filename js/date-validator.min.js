/*! Date Validator - v1.0.1 - 7/17/2015
 * https://github.com/Arkni/date-validator/
 * Copyright (c) 2015 Arkni Brahim; Licensed MIT */
!function(){function a(a,b,c){if(4!==a.length||c.length>2||b.length>2||!a||!b||!c)return!1;if(isNaN(a)||isNaN(b)||isNaN(c))return!1;if(c=parseInt(c,10),b=parseInt(b,10),a=parseInt(a,10),1e3>a||a>9999||1>b||b>12)return!1;var d=[31,28,31,30,31,30,31,31,30,31,30,31];return(a%400===0||a%100!==0&&a%4===0)&&(d[1]=29),1>c||c>d[b-1]?!1:!0}function b(a){var b=new Date(parseInt(a,10),0).getFullYear(),c=(new Date).getFullYear();return c>=b+100&&(b+=100),b.toString()}function c(a,c,d){a=a.split(d),c=c.split(d);var e=a[$.inArray("YYYY",c)]||(2===a[$.inArray("YY",c)].length?b(a[$.inArray("YY",c)]):a[$.inArray("YY",c)]),f=a[$.inArray("MM",c)]||a[$.inArray("M",c)],g=a[$.inArray("DD",c)]||a[$.inArray("D",c)];return new Date(e,f-1,g,12,0,0)}$.validator.addMethod("dateValidator",function(d,e,f){if(this.optional(e))return!0;(f===!0||$.isEmptyObject(f))&&(f={format:"DD/MM/YYYY",separator:"/"});var g,h,i,j,k,l,m,n,o,p,q,r=this;if($.isArray(f.format))$.each(f.format,function(a,b){return q=$.validator.methods.dateValidator.call(r,d,e,{format:b,separator:f.separator,minDate:f.minDate,maxDate:f.maxDate}),q?!1:void 0});else{if(g=f.format?f.format.toUpperCase():"DD/MM/YYYY",h=f.separator||"/",i=g.split(h),j=d.split(h),k=j[$.inArray("YYYY",i)]||b(j[$.inArray("YY",i)]),l=j[$.inArray("MM",i)]||j[$.inArray("M",i)],m=j[$.inArray("DD",i)]||j[$.inArray("D",i)],j.length!==i.length)return!1;switch(q=a(k,l,m),f.minDate&&(o=f.minDate instanceof Date?f.minDate:c(f.minDate,g,h)),f.maxDate&&(p=f.maxDate instanceof Date?f.maxDate:c(f.maxDate,g,h)),q&&(n=new Date(k,l-1,m,12,0,0)),!0){case f.minDate&&!f.maxDate&&q:q=n.getTime()>=o.getTime();break;case f.maxDate&&!f.minDate&&q:q=n.getTime()<=p.getTime();break;case f.minDate&&f.maxDate&&q:q=n.getTime()>=o.getTime()&&n.getTime()<=p.getTime()}}return q},$.validator.messages.date)}();